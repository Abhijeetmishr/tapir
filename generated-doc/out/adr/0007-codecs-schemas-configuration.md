# 7. Codecs and schemas derivation configs

Date: 2020-10-26

## Context

In circe and probably in other json libraries there is an option to influence generic derivation by modifying 
derivation config and putting it into the derivation scope. Such modification will affect particular codecs but
won't propagate automatically into openapi schema generated by tapir. These modifications include
choosing the namingConvention or specifying a discriminator field. 
(see https://github.com/softwaremill/tapir/issues/315 for more details)

## Decision

Tapir's schema and json codes will be treated separately and require manual synchronization.

## Other alternatives which were considered

1. Create a super configuration from which tapir and circe configurations can be derived.
This approach has a few flaws. First, for circe we would have to create another integration module
as circe-generic isn't present in the basic one. Second, it isn't uncommon for codecs and schemas
to live in separate packages and that brings up the question of where to put this super configuration. 
Last but not least, this configuration would require additional import in both codecs and schemas files which
could be easily overlooked, so in summary we think that it doesn't bring that much value to a table. (see 
https://github.com/softwaremill/tapir/pull/465 for details)
